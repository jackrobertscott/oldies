$(document).ready(function(){$(".hour ul li").click(function(){var b=$(this),a=b.attr("class").split(/\s+/);$.ajax({type:"POST",url:"includes/ajax/AjaxHour.class.php",data:{courseId:a[0],uniId:a[1],unitCode:a[2],courseCode:a[3]},dataType:"json",success:function(a){""!=a.message?console.log(a.message):(b.parent().children().removeClass("highlight"),"inserted"==a.status?(b.addClass("highlight"),b.parent().parent().css("background-color","#dff5fa")):(b.removeClass("highlight"),b.parent().parent().css("background-color",
"")))}})});$(".friendReq").submit(function(b){b.preventDefault();$.ajax({type:"POST",url:"includes/ajax/AjaxFriend.class.php",data:$(this).serialize(),dataType:"json",success:function(a){""!=a.message?console.log(a.message):"inserted"==a.status?$(".friend"+a.receiver).addClass("sent").val("Pending"):$(".friend"+a.receiver).removeClass("sent").removeClass("friends").val("Add")}})});$(".friendAdd").submit(function(b){b.preventDefault();$.ajax({type:"POST",url:"includes/ajax/AjaxAddFriend.class.php",
data:$(this).serialize(),dataType:"json",success:function(a){""!=a.message?console.log(a.message):($(".friendrem"+a.receiver).addClass("friends").val("Friends"),$(".friendadd"+a.receiver).remove())}})});$(".friendRem").submit(function(b){b.preventDefault();$.ajax({type:"POST",url:"includes/ajax/AjaxRemFriend.class.php",data:$(this).serialize(),dataType:"json",success:function(a){""!=a.message?console.log(a.message):$(".reqNum"+a.receiver).remove()}})});$(".course-search-options").on("click","li",
function(){$.ajax({type:"POST",url:"includes/ajax/AjaxAddPref.class.php",data:"courseId="+$(this).attr("class"),dataType:"json",success:function(b){if(""!=b.message)console.log(b.message);else if("null"!=b.optArray){var a="",c="",d="";b=JSON.parse(b.optArray);$.each(b,function(){$.each(this,function(a,b){"CourseCode"==a?c=b:d=b});a+="<li><p>"+c+'</p><div class="unitId_'+d+'"><p>REMOVE</p></div></li>'});$(".course-active").html(a)}else $(".course-active").html("")}})});$(".course-active").on("click",
"div",function(){$.ajax({type:"POST",url:"includes/ajax/AjaxRemPref.class.php",data:"courseId="+$(this).attr("class"),dataType:"json",success:function(b){if(""!=b.message)console.log(b.message);else if("null"!=b.optArray&&"[]"!=b.optArray&&""!=b.optArray){var a="",c="",d="";b=JSON.parse(b.optArray);$.each(b,function(){$.each(this,function(a,b){"CourseCode"==a?c=b:d=b});a+="<li><p>"+c+'</p><div class="unitId_'+d+'"><p>REMOVE</p></div></li>'});$(".course-active").html(a)}else $(".course-active").html("")}})});
$("#courseSearch").keyup(function(b){13==b.which&&b.preventDefault();$.ajax({type:"POST",url:"includes/ajax/AjaxRetrieveCourses.class.php",data:"courseSearch="+$(this).val(),dataType:"json",success:function(a){if(""!=a.message)console.log(a.message);else if("null"!=a.optArray){var b="",d=0,g="",h="",e="";a=JSON.parse(a.optArray);$.each(a,function(){5>d&&($.each(this,function(a,b){"CourseCode"==a?g=b:"CourseName"==a?e=b:h=b}),b+='<li class="unitId_'+h+'"><p>'+g+'<br><span style="font-size: 11px;">'+
e+'</span></p><p style="float: right;font-size: 14px;"><span class="icon-plus-outline"></span></p></li>');d++});$(".course-search-options").html(b)}else $(".course-search-options").html("")}})})});$(document).ready(function(){$(".friend-op-button").click(function(){$(".friend-op-wrap").slideToggle()});var b,a,c;$(window).on("load resize scroll",function(d){b=$(".wrap-day-title").offset().top;c=$(".wrap-days").offset().top;a=$(this).scrollTop();$(".wrap-header").height();tH=$(".wrap-day-title").height();console.log("days top: "+c+", Title top: "+b+", view Top: "+a);a>=c?$(".wrap-day-title").css({top:a-c}):a<c&&$(".wrap-day-title").css({top:0})});$(".sent").mouseover(function(){$(this).hasClass("sent")&&
$(this).val("Delete")});$(".sent").mouseout(function(){$(this).hasClass("sent")&&$(this).val("Pending")});$(".friends").mouseover(function(){$(this).hasClass("friends")&&$(this).val("Delete")});$(".friends").mouseout(function(){$(this).hasClass("friends")&&$(this).val("Friends")});$("select").each(function(){var a=$(this),b=$(this).children("option").length;a.addClass("select-hidden");a.wrap('<div class="select"></div>');a.after('<div class="select-styled"></div>');var c=a.next("div.select-styled");
c.text(a.children("option").eq(0).text());for(var e=$("<ul />",{"class":"select-options"}).insertAfter(c),f=0;f<b;f++)$("<li />",{text:a.children("option").eq(f).text(),rel:a.children("option").eq(f).val()}).appendTo(e);b=e.children("li");c.click(function(a){a.stopPropagation();$("div.select-styled.active").each(function(){$(this).removeClass("active").next("ul.select-options").hide()});$(this).toggleClass("active").next("ul.select-options").toggle()});b.click(function(b){b.stopPropagation();c.text($(this).text()).removeClass("active");
a.val($(this).attr("rel"));e.hide()});$(document).click(function(){c.removeClass("active");e.hide()})})});